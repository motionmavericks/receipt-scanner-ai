:root{--primary-color: #007AFF;--success-color: #34C759;--warning-color: #FF9500;--danger-color: #FF3B30;--background: #000000;--surface: #1C1C1E;--surface-light: #2C2C2E;--text-primary: #FFFFFF;--text-secondary: #8E8E93;--border-color: #3A3A3C;--overlay-bg: rgba(0, 0, 0, .8)}*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}html,body{height:100%;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,system-ui,sans-serif;background:var(--background);color:var(--text-primary);user-select:none;-webkit-user-select:none}#app{position:relative;width:100%;height:100%;overflow:hidden}.camera-container{position:absolute;top:0;left:0;width:100%;height:100%;background:var(--background)}#camera-feed{width:100%;height:100%;object-fit:cover}.detection-overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}.capture-flash{position:absolute;top:0;left:0;width:100%;height:100%;background:#fff;opacity:0;pointer-events:none;z-index:2;transition:opacity .2s ease-out}.capture-flash.active{opacity:.7}.controls{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10}.controls>*{pointer-events:auto}.top-bar{position:absolute;top:0;left:0;right:0;padding:env(safe-area-inset-top) 20px 20px;background:linear-gradient(to bottom,rgba(0,0,0,.7),transparent);display:flex;justify-content:space-between;align-items:center}.status{display:flex;align-items:center;gap:15px}.status-indicator{padding:6px 12px;border-radius:20px;font-size:14px;font-weight:500;background:var(--surface);color:var(--text-primary);transition:all .3s ease}.status-indicator.success{background:var(--success-color);color:#fff}.status-indicator.info{background:var(--primary-color);color:#fff}.status-indicator.error{background:var(--danger-color);color:#fff}.fps-counter{font-size:12px;color:var(--text-secondary);font-weight:500}.bottom-bar{position:absolute;bottom:0;left:0;right:0;padding:20px 20px env(safe-area-inset-bottom);background:linear-gradient(to top,rgba(0,0,0,.7),transparent);display:flex;justify-content:space-around;align-items:center}.icon-btn{position:relative;width:50px;height:50px;border-radius:25px;background:var(--surface);border:none;color:var(--text-primary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.icon-btn:active{transform:scale(.9);background:var(--surface-light)}.icon-btn svg{width:24px;height:24px;stroke-width:2}.badge{position:absolute;top:-5px;right:-5px;background:var(--danger-color);color:#fff;border-radius:10px;padding:2px 6px;font-size:11px;font-weight:700;min-width:18px;text-align:center}.capture-mode-btn{padding:10px 20px;border-radius:25px;background:var(--surface);border:2px solid var(--border-color);color:var(--text-secondary);font-weight:600;font-size:14px;cursor:pointer;transition:all .3s ease}.capture-mode-btn.active{background:var(--primary-color);border-color:var(--primary-color);color:#fff}.capture-btn{width:70px;height:70px;border-radius:35px;background:#fff;border:3px solid var(--surface);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.capture-btn:active{transform:scale(.9)}.capture-btn-inner{width:56px;height:56px;border-radius:28px;background:var(--danger-color);transition:all .2s ease}.capture-btn:active .capture-btn-inner{background:var(--danger-color);opacity:.8}.panel{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--overlay-bg);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);opacity:0;visibility:hidden;transition:all .3s ease;z-index:100}.panel.visible{opacity:1;visibility:visible}.panel-header{padding:env(safe-area-inset-top) 20px 20px;background:var(--surface);border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.panel-header h2{font-size:20px;font-weight:600}.close-btn{width:32px;height:32px;border-radius:16px;background:var(--surface-light);border:none;color:var(--text-primary);font-size:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.close-btn:active{transform:scale(.9)}.panel-content{padding:20px;height:calc(100% - 80px);overflow-y:auto;-webkit-overflow-scrolling:touch}.setting-group{margin-bottom:30px}.setting-group label{display:block;margin-bottom:10px;color:var(--text-secondary);font-size:14px;font-weight:500}.slider-container{display:flex;align-items:center;gap:15px}.slider-container input[type=range]{flex:1;height:4px;background:var(--surface-light);border-radius:2px;outline:none;-webkit-appearance:none}.slider-container input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:28px;height:28px;border-radius:14px;background:var(--primary-color);cursor:pointer}.slider-container span{min-width:50px;text-align:right;font-weight:500}select{width:100%;padding:12px;background:var(--surface-light);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);font-size:16px;cursor:pointer}input[type=checkbox]{width:20px;height:20px;margin-right:10px;cursor:pointer}.gallery-actions{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.action-btn{padding:10px 16px;border-radius:8px;background:var(--surface-light);border:1px solid var(--border-color);color:var(--text-primary);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.action-btn:active{transform:scale(.95)}.action-btn:disabled{opacity:.5;cursor:not-allowed}.action-btn.danger{background:var(--danger-color);border-color:var(--danger-color)}.gallery-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px;padding-bottom:env(safe-area-inset-bottom)}.gallery-item{position:relative;aspect-ratio:3/4;border-radius:8px;overflow:hidden;background:var(--surface-light);cursor:pointer;transition:all .2s ease}.gallery-item:active{transform:scale(.95)}.gallery-item img{width:100%;height:100%;object-fit:cover}.gallery-checkbox{position:absolute;top:8px;left:8px;width:24px;height:24px;cursor:pointer;z-index:1}.gallery-item-info{position:absolute;bottom:0;left:0;right:0;padding:8px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);color:#fff;font-size:11px;display:flex;flex-direction:column;gap:2px}.image-viewer{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--background);display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all .3s ease;z-index:200}.image-viewer.visible{opacity:1;visibility:visible}.image-viewer img{max-width:90%;max-height:80%;object-fit:contain}.viewer-controls{position:absolute;bottom:40px;display:flex;align-items:center;gap:20px;padding:15px 25px;background:var(--surface);border-radius:25px}.nav-btn{width:40px;height:40px;border-radius:20px;background:var(--surface-light);border:none;color:var(--text-primary);font-size:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.nav-btn:active{transform:scale(.9)}.loading-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--background);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;opacity:0;visibility:hidden;transition:all .3s ease;z-index:300}.loading-overlay.visible{opacity:1;visibility:visible}.spinner{width:50px;height:50px;border:3px solid var(--surface-light);border-top-color:var(--primary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}#loading-text{color:var(--text-secondary);font-size:16px}.error-toast,.success-toast{position:fixed;top:100px;left:50%;transform:translate(-50%) translateY(-20px);padding:15px 25px;border-radius:25px;font-size:14px;font-weight:500;opacity:0;transition:all .3s ease;z-index:400}.error-toast{background:var(--danger-color);color:#fff}.success-toast{background:var(--success-color);color:#fff}.error-toast.visible,.success-toast.visible{opacity:1;transform:translate(-50%) translateY(0)}.confirm-dialog{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--overlay-bg);display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all .3s ease;z-index:500}.confirm-dialog.visible{opacity:1;visibility:visible}.dialog-content{background:var(--surface);border-radius:12px;padding:25px;max-width:300px;text-align:center}.dialog-content p{margin-bottom:20px;font-size:16px}.dialog-buttons{display:flex;gap:10px}.dialog-buttons button{flex:1;padding:12px;border-radius:8px;border:none;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-cancel{background:var(--surface-light);color:var(--text-primary)}.btn-confirm{background:var(--primary-color);color:#fff}.btn-confirm.danger{background:var(--danger-color)}@media (min-width: 768px){.gallery-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.panel-content{max-width:600px;margin:0 auto}.bottom-bar{max-width:500px;left:50%;transform:translate(-50%);border-radius:25px;margin-bottom:20px;background:var(--surface)}}@media (orientation: landscape){.top-bar,.bottom-bar{padding:20px 40px}.gallery-grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}}@media (prefers-color-scheme: light){:root{--background: #F2F2F7;--surface: #FFFFFF;--surface-light: #F2F2F7;--text-primary: #000000;--text-secondary: #8E8E93;--border-color: #C6C6C8;--overlay-bg: rgba(255, 255, 255, .9)}}
